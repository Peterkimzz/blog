---
category: tech
title: Vue.js로 크롬 확장 프로그램 개발하기
description: 가상화폐 거래소 API를 활용해 브라우저에서 단축키로 빠르게 코인 시세를 확인할 수 있는 툴을 크롬 확장 프로그램을 이용해 만들어보았다.
thumbnail: https://images.unsplash.com/photo-1519682337058-a94d519337bc?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80
updated: 2021-02-04
---

요즘 한국엔 주식, 코인 거래가 정말로 이슈이다. 그냥 이슈가 아니라, 주식 하는 사람들이 주식 안하는 사람들을 바보 취급을 하는 그런 이상한 분위기가 형성됐다.

나는 작년 4월부터 주식을 처음으로 시작했다. 그 때부터 한국에 삼성전자를 필두로 주식 열풍이 불기 시작했기 때문이다.

개인적으로 1년 가까이 주식을 하면서 느낀 점은, 시드가 작으면 하나 마나라는 생각이 들었다. 등락폭 제한이 있는 한국 시장은 더더욱 그렇다.

그래도 적금보다 낫지라고 생각할 수도 있지만, 어디까지나 내가 산 주식이 상승하고 있을 때 얘기이다. 죄다 파란 불이면 그 심리적 압박감으로 인한 스트레스는 정말 크다.

그 때문인지 나는 자연스럽게 등락폭 제한이 없는 `미국 시장`과 `가상 화폐`쪽에 관심이 갔다. 시드가 적더라도 등락이 자유로워서 시장에 잘 적응한다면, 시드가 적어도 한국 시장보다는 좀 더 크게 시드를 불릴 수 있지 않을까 하는 생각때문이었다. 물론 어디까지나 `매매를 잘 한다면`이다.

## 근데 왜 크롬 확장 프로그램일까?

아무튼 주식 사놓고 딱히 관심 없는 사람 아니면 대부분 하루에 한 번 이상 내가 산 주식 가격을 보게 되있다. 올랐는지 궁금하니까. 나도 그렇고.

근데 지금은 주식을 잘 안본다. 왜냐면 지금은 주로 코인 매매를 하고 있기 때문이다. 코인은 장이 24시간 열려있고, 초 단위로 가격 변동이 심해서 진짜 계속 보게 된다.

여기서 내가 `크롬 확장 프로그램`을 만들게 된 이유가 등장한다. **회사에서 핸드폰 켜서 시세 보는게 너무 번거롭다. 그렇다고 홈페이지 들어가서 차트 보는 것도 눈치 보이고. 근데 브라우저에서 단축키 눌러서 내가 보고 싶은 시세가 딱 뜨면 좋지 않을까?** 라는 생각이 들었다.

아마 필요한 직장인들이 굉장히 많을 것이라고 감히 예측해본다.

그래서 크롬 확장 프로그램 마켓에 대해 좀 알아봤는데, 생각보다 조건이 너무 괜찮다.

일단 앱을 등록하려면 개발자 등록을 해야되는데, 등록비로 5불을 낸다. 최초 1번만 내면 된다. 정말 혜자스럽다. 한 번만 등록하면, 갱신없이 평생 무한으로 즐길 수 있다!

그리고 웹 개발자들에게 익숙한 HTML, CSS, Javascript로 앱을 개발할 수 있다. 너무 좋다. 인 앱 결제 또한 외부 결제를 써도 지장 없는 것 같다. (확실하진 않음)

## 그렇다면 기획을 해보자

내가 당장 필요한 기능은 이러하다.

- 브라우저 사용 중에 단축키를 누르면 바로 팝업이 떠서 코인 시세가 실시간으로 보인다.
- 팝업이 굉장히 작아야 한다. 지나가다는 사람이 내 모니터를 봐도, 뭐 하는지 잘 모를 정도의 사이즈여야 한다.
- 내 시스템 테마에 맞춰 다크 모드면 어둡게, 라이트면 밝은 테마로 나온다.

만약 이 앱을 사용하는 사람들이 많아진다면, 몇몇 개의 거래소 API를 이용해 거래 기능을 구독제로 만들 수도 있겠다. 물론 단순 시세 모니터링은 무료로.

아무튼 트레이딩을 도와주는 인공지능(?) 느낌으로 발전시키고 싶어서, 앱 이름에 아이언맨의 자비스 같은 느낌을 주고 싶었다. 그래서 이름을 `브리아나`로 정했다. 그리고 조금 더 있어보이려면 기업명이 필요하기 때문에, 기업명은 `브리아나 랩스`로 정했다.

## 먼저 확장 프로그램에 대해 알아보자

확장 프로그램을 만드는 건 정말 별거 없다. 프로젝트 루트 폴더에 `manifest.json` 파일이 있다면 기존 운영 중인 웹사이트도 확장 프로그램으로 바로 사용이 가능하다.

```json[manifest.json]
{
  "manifest_version": 2,
  "version": "0.0.1",
  "name": "브리아나 - 회사에서도 코인 모니터링",
  "description": "핸드폰으로 몰래 보지말고, 단축키로 코인 시세를 실시간으로 모니터링하자!",
  "icons": {
    "16": "icon16.png",
    "32": "icon32.png",
    "128": "icon128.png"
  },
  "browser_action": {
    "default_popup": "popup.html",
    "default_title": "Briana"
  },
  "background": {
    "scripts": ["background.js"],
    "persistent": false
  },
  "commands": {
    "_execute_browser_action": {
      "suggested_key": {
        "default": "Ctrl+Shift+E",
        "mac": "Cmd+Shift+E",
      }
    }
  }
}
```

**manifest_version**: 브라우저가 확장 프로그램을 어떤 버전으로 인식할건지 명시해주는 값이다. 지금은 2버전이 Stable 버전이고, 곧 3 버전이 나온다던데 당장 나올 것 같진 않다. 3으로 해보려고 했는데 문서대로 해도 잘 안되서 나는 2버전으로 했다.

**version**: 마켓에 표시될 버전 정보이다. 일반적인 Sementic version을 따른다. 조금 주의해야할 부분인데, 앱 등록 후 버전 업데이트를 할 때 이 버전 숫자를 올리지 않고 그냥 올리면 심사가 거부될 수 있다. 한 번 거부되면 며칠씩 기다려야 하니 신경쓰자.

**name**: 마켓에 표시될 앱의 이름이다.

**description**: 앱에 대한 짧은 설명이다. SEO와 밀접한 연관이 있으니 앱과 관련된 키워드를 문장으로 잘 서술하자.

**icons**: 앱 아이콘이다. 이것과 별개로 128x128 사이즈는 마켓에 등록할 용도로 필요하다.

**browser_action**: 이 부분이 정말 확장 프로그램에 대한 내용이다. 보통 확장 프로그램이라고 앱을 누르면 브라우저에서 작은 `팝업`이 뜨는 방식이다. 그래서 default_popup에 html 파일 경로를 적어주면 된다. default_title은 설치 후, 앱 위에 마우스를 올렸을 때 표시될 이름이다.

![image](https://user-images.githubusercontent.com/20244536/106871020-1f2dc700-6715-11eb-98b7-4e00080b6eb7.png)

**background**: 이건 앱이 켜졌을 때 실행되는 백그라운드 스크립트를 지정하는 곳이다. 나의 경우에는 크게 필요하지 않아서 제대로 써보진 않았는데, 뭔가 계속 무언가를 감시해야 할 때 사용하면 된다.

**commands**: 말 그대로 단축키를 설정하는 곳이다. 윈도우, 맥, 리눅스 까지 설정 가능한 것 같다. 나는 윈도우와 맥만 설정해주었다.

## 개발 환경 세팅

나는 이번 프로젝트의 프론트엔드를 `Vue.js` + `Typescript`를 사용했고, 스타일링은 `Tailwind CSS`를 사용했다. 그리고 마지막으로 개발을 위한 개발 서버 오픈과, 패키지 배포를 위한 번들링으로 `Parcel`을 이용했다.

일단 프로젝트 폴더를 생성하고, 프로젝트를 초기화 해준다.

```bash
$ mkdir briana && cd briana
$ yarn init -y
```

### 참고

- https://developer.chrome.com/docs/extensions/mv2/
- https://developer.chrome.com/docs/extensions/mv2/getstarted/